import NetworkResults from "@/components/Scanner/pentest/NetworkResults";
import WebResult from "@/components/Scanner/pentest/WebResult";
import { db } from "@/core/client/client";
import getSessionOrRedirect from "@/core/server/utils/getSessionOrRedirect";
import { Suspense } from "react";

const Page = async () => {
  const session = await getSessionOrRedirect();

  const pentestSettings = await db.pentestsettings.findFirst({
    where: { email: session.user.email },
    select: { selectedScanMode: true },
  });

  return <NetworkResults mode={pentestSettings?.selectedScanMode || "LIGHTSCAN"} />;
};

export default Page;
